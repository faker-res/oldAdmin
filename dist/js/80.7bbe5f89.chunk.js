webpackJsonp([80],{1444:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(a(77)),l=o(a(782));function o(t){return t&&t.__esModule?t:{default:t}}e.default={components:{QuickLotteryListTable:l.default},data:function(){var a=this;return{ShowConfigFormModal:!1,lockStatu:null,ConfigForm:{id:null,level:null,rate:null,lock:null,maxJackpot:null},DataSearch:{lid:""},table:{TableColumn:[{title:"彩票名称",key:"lotteryName"},{title:"所属分类",key:"type"},{title:"下注金额",key:"betMoney"},{title:"会员输赢",key:"win"},{title:"下注金额(黑名单)",key:"blackBetMoney"},{title:"用户输赢(黑名单)",key:"blackWin"},{title:"风控状态",key:"level",render:function(t,e){var a=void 0;switch(e.row.level){case"rand":a="随机";break;case"kill":a="控制";break;default:a="放水"}return t("span",a)}},{title:"平台盈利",key:"rate",render:function(t,e){return t("span",100*e.row.rate+"%")}},{title:"开奖间隔",key:"openTimeSet",render:function(t,e){var a=e.row.openTimeSet,n=Math.floor(a/3600);n=0<n?n+"小时":"";var l=Math.floor(a%3600/60),o=a%60;return t("span",n+(l=0<l?l+"分钟":"")+(o=0<o?o+"秒":""))}},{title:"开始统计时间",key:"lastCountTime",width:140,render:function(t,e){return t("span",a.$moment.unix(e.row.lastCountTime-0).format("LLL"))}},{title:"状态",key:"lock",width:50,render:function(t,e){return t("span",0===e.row.lock?"未锁":"加锁")}},{title:"操作",key:"",width:170,render:function(t,e){return t("div",[t("Button",{props:{size:"small"},style:{marginRight:"5px"},on:{click:function(){a.$router.push({name:"LotteryWinDetail",query:{lotteryId:e.row.lotteryId}})}}},"详情"),t("Button",{props:{size:"small"},style:{marginRight:"5px"},on:{click:function(){a.$Modal.confirm({content:"确认初始化？",onOk:function(){a.$root.HTTP_ALLLINKPOST(a.$root.HTTP_L.HTTP_KuaiSuChuShiHuaPeiZhi,{id:e.row.id}).then(function(t){a.$Modal.success({title:"提示",content:"初始化成功！"})}).catch(function(t){a.$Message.error("初始化失败！")})}})}}},"初始化"),t("Button",{props:{size:"small"},on:{click:function(){a.lockStatu=!Boolean(e.row.lock),a.ShowConfigFormModal=!0,a.ConfigForm.id=e.row.id,a.ConfigForm.level=e.row.level,a.ConfigForm.rate=Number(e.row.rate),a.ConfigForm.maxJackpot=Number(e.row.maxJackpot)}}},"更新")])}}],TableData:{},loading:!0,align:"center",posturl:this.$root.HTTP_L.HTTP_KuaiSuShuJuZongLan,Refresh:0,dataform:{isRules:"select"}}}},methods:{SelectControlStatus:function(t){this.ConfigForm.level=t},changeLock:function(t){this.ConfigForm.lock=t?0:1},UpdateTheConfig:function(){var e=this;this.$root.HTTP_ALLLINKPOST(this.$root.HTTP_L.HTTP_KuaiSuGengXinPeiZhi,this.ConfigForm).then(function(t){e.$Modal.success({title:"提示",content:"更新成功！"}),e.ShowConfigFormModal=!1,e.table.dataform={isRules:"select"}}).catch(function(t){e.$Message.error("更新失败！")})},Search:function(){for(var t in this.DataSearch)null!=this.DataSearch[t]&&""!=this.DataSearch[t]||delete this.DataSearch[t];this.table.dataform=JSON.parse((0,n.default)(this.DataSearch))},SearchRest:function(){this.DataSearch={lid:""},this.table.dataform={lid:""}}}}},1779:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-main member-main"},[a("div",{staticClass:"layout"},[a("div",{staticClass:"page-header"},[a("h1",{staticClass:"binding"},[e._v(e._s(e.$route.meta.title))])]),e._v(" "),a("div",{staticClass:"page-con1"},[a("div",{staticClass:"c_left"},[a("i-col",{staticClass:"c_search_result",attrs:{span:"24"}},[a("div",{staticClass:"serach"},[a("div",{staticClass:"have_con"},[a("div",{staticClass:"data_sj"},[a("div",{staticStyle:{margin:"10px 0",overflow:"hidden"}},[a("QuickLotteryListTable",{attrs:{table:e.table}})],1)])])])])],1)]),e._v(" "),a("Modal",{attrs:{"class-name":"vertical-center-modal",loading:!0,title:"更新配置"},on:{"on-ok":e.UpdateTheConfig},model:{value:e.ShowConfigFormModal,callback:function(t){e.ShowConfigFormModal=t},expression:"ShowConfigFormModal"}},[a("Form",{attrs:{model:e.ConfigForm,"label-position":"left","label-width":110}},[a("FormItem",{staticClass:"form-group",attrs:{label:"当前风控状态"}},[a("Select",{staticStyle:{width:"260px"},on:{"on-change":e.SelectControlStatus},model:{value:e.ConfigForm.level,callback:function(t){e.$set(e.ConfigForm,"level",t)},expression:"ConfigForm.level"}},[a("Option",{attrs:{value:"rand"}},[e._v("随机")]),e._v(" "),a("Option",{attrs:{value:"kill"}},[e._v("控制")]),e._v(" "),a("Option",{attrs:{value:"open"}},[e._v("放水")])],1)],1),e._v(" "),a("FormItem",{staticClass:"form-group",attrs:{label:"平台盈利率"}},[a("InputNumber",{staticStyle:{width:"260px"},attrs:{step:.01,placeholder:"请输入平台盈利率"},model:{value:e.ConfigForm.rate,callback:function(t){e.$set(e.ConfigForm,"rate",t)},expression:"ConfigForm.rate"}})],1),e._v(" "),a("FormItem",{staticClass:"form-group",attrs:{label:"状态变更"}},[a("i-switch",{attrs:{size:"large"},on:{"on-change":e.changeLock},model:{value:e.lockStatu,callback:function(t){e.lockStatu=t},expression:"lockStatu"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("未锁")]),e._v(" "),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("已锁")])])],1),e._v(" "),a("FormItem",{staticClass:"form-group",attrs:{label:"奖池上限金额"}},[a("InputNumber",{staticStyle:{width:"260px"},attrs:{step:1e3,placeholder:"请输入奖池上限金额"},model:{value:e.ConfigForm.maxJackpot,callback:function(t){e.$set(e.ConfigForm,"maxJackpot",t)},expression:"ConfigForm.maxJackpot"}})],1)],1)],1)],1)])};n._withStripped=!0;var l={render:n,staticRenderFns:[]};e.default=l},756:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1444),l=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);var i=a(1779),r=a.n(i),s=a(63)(l.a,r.a,!1,null,null,null);s.options.__file="src/template/LotteryManager/QuicklyLottery.vue",e.default=s.exports},769:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(a(774)),l=r(a(145)),o=r(a(76)),i=r(a(144));function r(t){return t&&t.__esModule?t:{default:t}}e.default={name:"TableCommon",props:["table"],components:{},activated:function(){},data:function(){return{page:1,response:{},dateOption:{}}},watch:{"table.posturl":function(t){this.tableRequest()},"table.Refresh":function(t){this.tableRequest()},"table.dataform":{handler:function(t){0<this.table.posturl.indexOf("?")&&(this.table.posturl=this.table.posturl.slice(0,this.table.posturl.indexOf("?"))),this.table.post||this.tableRequest()},deep:!0},"table.selectAllcencle":function(t){this.$refs.table.selectAll(!1)}},created:function(){this.table.flag||this.tableRequest()},methods:{goPage:function(){var t=this.$refs.Page.$el.querySelector("input").value;if(t>this.$refs.Page.allPages)return!1;0<this.table.posturl.indexOf("?")&&(this.table.posturl=this.table.posturl.slice(0,this.table.posturl.indexOf("?"))),this.table.posturl=this.table.posturl+"?page="+t},PageChange:function(t){0<this.table.posturl.indexOf("?")&&(this.table.posturl=this.table.posturl.slice(0,this.table.posturl.indexOf("?"))),this.table.posturl=this.table.posturl+"?page="+t},OnSelected:function(t){this.$emit("listenOnSelect",t)},OnSortChange:function(t){this.$emit("listenOnSortTable",t)},expand:function(t,e){this.$emit("listenOnExpand",{row:t,status:e})},tableRequest:function(t){var e=this;this.table.loading=!0,"get"!==this.table.postType&&this.table.posturl?this.$root.HTTP_ALLLINKPOST(this.table.posturl,this.table.dataform).then(function(t){"string"==typeof t.data.data?e.table.TableData=JSON.parse(t.data.data):(t.data.data.hasOwnProperty("data")?t.data.data.data.hasOwnProperty("list")?(e.table.TableData=(0,i.default)({},t.data.data),e.table.TableData.data=[].concat((0,o.default)(t.data.data.data.list)),e.$set(e.table.TableData,"totalCount",t.data.data.data.total)):e.table.TableData=t.data.data:(e.table.TableData.data=t.data.data,(0,l.default)(t.data.data)&&(e.table.TableData.data=(0,n.default)(t.data.data))),0==t.data.data.length&&(e.table.TableData={}),e.page=t.data.data.current_page),e.table.loading=!1,e.table.TableData.data.length?e.table.buttonDisabled=!1:e.table.buttonDisabled=!0,e.$emit("listenOnTableData")}).catch(function(t){e.table.loading=!1,e.$emit("listenOnTableData"),e.table.TableData.data=[],t.body&&200!==t.body.code&&e.$emit("catchError",t.body.code)}):this.table.posturl?this.$root.HTTP_ALLLINKGET(this.table.posturl,this.table.dataform).then(function(t){"string"==typeof t.data.data?e.table.TableData=JSON.parse(t.data.data):t.data.data.hasOwnProperty("data")?e.table.TableData=t.data.data:e.table.TableData.data=t.data.data,e.table.loading=!1}).catch(function(t){e.table.loading=!1,e.table.TableData.data=[]}):this.table.loading=!1}}}},774:function(t,e,a){t.exports={default:a(779),__esModule:!0}},779:function(t,e,a){a(780),t.exports=a(11).Object.values},780:function(t,e,a){var n=a(31),l=a(781)(!1);n(n.S,"Object",{values:function(t){return l(t)}})},781:function(t,e,a){var s=a(64),c=a(54),u=a(78).f;t.exports=function(r){return function(t){for(var e,a=c(t),n=s(a),l=n.length,o=0,i=[];o<l;)u.call(a,e=n[o++])&&i.push(r?[e,a[e]]:a[e]);return i}}},782:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(769),l=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);var i=a(785),r=a.n(i),s=!1;var c=function(t){s||a(783)},u=a(63)(l.a,r.a,!1,c,null,null);u.options.__file="src/template/my-components/iview-table/table.vue",e.default=u.exports},783:function(t,e,a){var n=a(784);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(75)("78bbc5d7",n,!1,{})},784:function(t,e,a){(t.exports=a(74)(!1)).push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},785:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("i-col",{attrs:{span:"24"}},[a("i-table",{ref:"table",class:{center:"center"==t.table.align},attrs:{border:"",loading:t.table.loading,context:t.$parent,data:t.table.TableData.data,columns:t.table.TableColumn},on:{"on-sort-change":t.OnSortChange,listenRequest:t.tableRequest,"on-selection-change":t.OnSelected,"on-expand":t.expand}})],1),t._v(" "),1<t.table.TableData.last_page?a("div",{staticStyle:{margin:"10px"}},[a("div",{staticClass:"clearfix",staticStyle:{float:"right"}},[a("Page",{ref:"Page",staticStyle:{float:"left"},attrs:{total:t.table.TableData.total,"show-total":"",current:t.page,"page-size":t.table.TableData.per_page-0,"show-elevator":""},on:{"on-change":t.PageChange}}),t._v(" "),a("Button",{staticStyle:{float:"left",height:"32px",margin:"10px 0 0 10px"},attrs:{size:"small"},on:{click:t.goPage}},[t._v("go!")])],1)]):t._e()],1)])};n._withStripped=!0;var l={render:n,staticRenderFns:[]};e.default=l}});