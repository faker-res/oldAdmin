{"source":"webpackJsonp([85],{1424:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a,i=n(773),r=(a=i)&&a.__esModule?a:{default:a};t.default={components:{SiteNameSelect:r.default},data:function(){return{btnLoading:!1,keyList:[],key:[],CreatPreferentialSettingForm:{key:\"\",value:\"\",status:\"\",username:\"\"},Status:[{value:\"yes\",label:\"开启\"},{value:\"no\",label:\"关闭\"}],CreatPreferentialCreatFormRules:{key:[{required:!0,message:\"键值不能为空\"}],value:[{required:!0,message:\"参数不能为空\",trigger:\"blur\"}],status:[{required:!0,message:\"状态不能为空\"}]},TemplateList:[]}},mounted:function(){this.$route.query&&this.$route.query.Id&&this.$route.query.isVerify?this.isVerifyFn(this.$route.query.Id):this.CreatPreferentialSettingForm.username=this.$root.adminuserinfo.adminUserName},created:function(){var r=this;this.$root.HTTP_ALLLINKGET(this.$root.HTTP_L.HTTP_Template_PreferentialSetting).then(function(e){for(var t in e.data.data){var n={};switch(n.value=t){case\"bet\":n.label=\"下注\";break;case\"bonus\":n.label=\"优惠\";break;case\"deposit\":n.label=\"存款\";break;case\"transfer\":n.label=\"转换\";break;case\"withdrawals\":n.label=\"取款\"}for(var a in n.children=[],e.data.data[t]){var i={};i.value=a,i.label=e.data.data[t][a],n.children.push(i)}r.keyList.push(n)}})},methods:{isVerifyFn:function(e){var a=this;this.$root.HTTP_ALLLINKPOST(this.$root.HTTP_L.HTTP_Detail_PreferentialSetting,{Id:e}).then(function(n){for(var e in a.CreatPreferentialSettingForm)a.CreatPreferentialSettingForm[e]=n.data.data[e];a.CreatPreferentialSettingForm.Id=n.data.data.id,a.CreatPreferentialSettingForm.update_username=a.$root.adminuserinfo.adminUserName,a.keyList.forEach(function(t){t.children.forEach(function(e){e.value===n.data.data.key&&(a.key=[t.value,e.value])})})})},CreatingPreferentialSetting:function(){var t=this;this.$refs.CreatPreferentialSettingForm.validate(function(e){e&&(t.$root.loading(),t.$route.query.isVerify?(delete t.CreatPreferentialSettingForm.username,t.$root.HTTP_ALLLINKPOST(t.$root.HTTP_L.HTTP_Update_PreferentialSetting,t.CreatPreferentialSettingForm).then(function(e){t.$Spin.hide(),t.$root.modal(\"success\",\"\",e.data.data)}).catch(function(e){t.$Spin.hide()})):t.$root.HTTP_ALLLINKPOST(t.$root.HTTP_L.HTTP_Add_PreferentialSetting,t.CreatPreferentialSettingForm).then(function(e){t.$Spin.hide(),t.$root.modal(\"success\",\"\",e.data.data),t.CreatPreferentialSettingForm.value=\"\"}).catch(function(e){t.$Spin.hide()}))})},keyChange:function(e){this.CreatPreferentialSettingForm.key=e[1]}}}},1731:function(e,t,n){var a=n(1732);\"string\"==typeof a&&(a=[[e.i,a,\"\"]]),a.locals&&(e.exports=a.locals);n(75)(\"4d2f3404\",a,!1,{})},1732:function(e,t,n){(e.exports=n(74)(!1)).push([e.i,\"\\n.user_defined[data-v-44c31133] {\\n  margin-left: 5px;\\n  vertical-align: text-top;\\n  font-size: 13px;\\n}\\n\",\"\"])},1733:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"user_info\"},[n(\"div\",{staticClass:\"layout\"},[n(\"div\",{staticClass:\"page-header\"},[n(\"h1\",{staticClass:\"binding\"},[t._v(t._s(t.$route.meta.title))])]),t._v(\" \"),n(\"div\",{staticClass:\"page-con1\"},[n(\"div\",[n(\"Form\",{ref:\"CreatPreferentialSettingForm\",attrs:{model:t.CreatPreferentialSettingForm,rules:t.CreatPreferentialCreatFormRules,\"label-width\":180}},[n(\"FormItem\",{attrs:{label:\"创建人\"}},[n(\"i-input\",{staticStyle:{width:\"260px\"},attrs:{disabled:!0},model:{value:t.CreatPreferentialSettingForm.username,callback:function(e){t.$set(t.CreatPreferentialSettingForm,\"username\",e)},expression:\"CreatPreferentialSettingForm.username\"}})],1),t._v(\" \"),n(\"FormItem\",{attrs:{label:\"键值\",prop:\"key\"}},[n(\"Cascader\",{staticStyle:{width:\"260px\",display:\"inline-block\"},attrs:{data:t.keyList,trigger:\"hover\"},on:{\"on-change\":t.keyChange},model:{value:t.key,callback:function(e){t.key=e},expression:\"key\"}})],1),t._v(\" \"),n(\"FormItem\",{attrs:{label:\"参数\",prop:\"value\"}},[n(\"i-input\",{staticStyle:{width:\"260px\"},attrs:{placeholder:\"请输入参数\"},model:{value:t.CreatPreferentialSettingForm.value,callback:function(e){t.$set(t.CreatPreferentialSettingForm,\"value\",e)},expression:\"CreatPreferentialSettingForm.value\"}})],1),t._v(\" \"),n(\"FormItem\",{attrs:{label:\"状态\"}},[n(\"Select\",{staticStyle:{width:\"260px\"},model:{value:t.CreatPreferentialSettingForm.status,callback:function(e){t.$set(t.CreatPreferentialSettingForm,\"status\",e)},expression:\"CreatPreferentialSettingForm.status\"}},t._l(t.Status,function(e){return n(\"Option\",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),t._v(\" \"),n(\"FormItem\",[n(\"Button\",{attrs:{loading:t.$root.btnLoading,type:\"primary\"},on:{click:t.CreatingPreferentialSetting}},[t.$route.query.isVerify?n(\"span\",[t._v(\"修改\")]):n(\"span\",[t._v(\"创建\")])]),t._v(\" \"),n(\"Button\",{on:{click:function(e){t.$router.push({name:\"PreferentialSetting\"})}}},[t._v(\"优惠模板参数列表\")]),t._v(\" \"),n(\"Button\",{on:{click:t.$root.go_back}},[t._v(\"返回\")])],1)],1)],1)])])])};a._withStripped=!0;var i={render:a,staticRenderFns:[]};t.default=i},739:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(1424),i=n.n(a);for(var r in a)\"default\"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);var l=n(1733),s=n.n(l),o=!1;var u=function(e){o||n(1731)},c=n(63)(i.a,s.a,!1,u,\"data-v-44c31133\",null);c.options.__file=\"src/template/SystemManagement/PreferentialSettingCreat.vue\",t.default=c.exports},768:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a,i,r,l=u(n(144)),s=u(n(332)),o=u(n(333));function u(e){return e&&e.__esModule?e:{default:e}}t.default={props:[\"SiteNameSelectData\"],data:function(){return{singleData:{SiteId:null},multipleData:{SiteId:[]},siteIdList:[]}},created:function(){var e=this;this.$nextTick(function(){e.getSiteList()})},watch:{\"$root.AllSiteNameList\":{handler:function(e,t){e&&(this.siteIdList=e,this.InitData())},deep:!0},singleData:{handler:function(e,t){this.singleChange(e)},deep:!0},multipleData:{handler:function(e,t){this.multipleChange(e)},deep:!0}},methods:{getSiteList:function(){localStorage.AllSiteNameList&&(this.siteIdList=JSON.parse(localStorage.AllSiteNameList),this.InitData())},setDefaultSite:(r=(0,o.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:\"单选\"==this.SiteNameSelectData.type?this.singleData.SiteId=t:this.multipleData.SiteId=t;case 1:case\"end\":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}),InitData:(i=(0,o.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:\"单选\"!=this.SiteNameSelectData.type||this.SiteNameSelectData.edit||(this.singleData.SiteId=this.siteIdList[0].id);case 1:case\"end\":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)}),sendSiteList:(a=(0,o.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",this.siteIdList);case 1:case\"end\":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)}),singleChange:function(t){var n=(0,l.default)({},this.singleData);this.siteIdList.forEach(function(e){e.id==t.SiteId&&(n.SiteName=e.siteName,n.paymentBonus=e.siteConfig.limit.paymentBonus)}),this.$emit(\"listenOnChange\",n)},multipleChange:function(e){var n=(0,l.default)({},this.multipleData);n.SiteName=[],this.siteIdList.forEach(function(t){n.SiteId&&n.SiteId.forEach(function(e){t.id==e&&n.SiteName.push(t.siteName)})}),this.$emit(\"listenOnChange\",n)}}}},773:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(768),i=n.n(a);for(var r in a)\"default\"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);var l=n(777),s=n.n(l),o=!1;var u=function(e){o||n(775)},c=n(63)(i.a,s.a,!1,u,null,null);c.options.__file=\"src/template/my-components/SiteNameSelect.vue\",t.default=c.exports},775:function(e,t,n){var a=n(776);\"string\"==typeof a&&(a=[[e.i,a,\"\"]]),a.locals&&(e.exports=a.locals);n(75)(\"6e9b1005\",a,!1,{})},776:function(e,t,n){(e.exports=n(74)(!1)).push([e.i,\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\",\"\"])},777:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[\"单选\"==t.SiteNameSelectData.type?n(\"Select\",{style:t.SiteNameSelectData.style,attrs:{clearable:t.SiteNameSelectData.clearable,disabled:t.SiteNameSelectData.disabled,placeholder:t.SiteNameSelectData.placeholder},model:{value:t.singleData.SiteId,callback:function(e){t.$set(t.singleData,\"SiteId\",e)},expression:\"singleData.SiteId\"}},t._l(t.siteIdList,function(e){return n(\"Option\",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.siteName))])}),1):n(\"Select\",{style:t.SiteNameSelectData.style,attrs:{multiple:\"\",disabled:t.SiteNameSelectData.disabled,placeholder:t.SiteNameSelectData.placeholder},model:{value:t.multipleData.SiteId,callback:function(e){t.$set(t.multipleData,\"SiteId\",e)},expression:\"multipleData.SiteId\"}},t._l(t.siteIdList,function(e){return n(\"Option\",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.siteName))])}),1)],1)};a._withStripped=!0;var i={render:a,staticRenderFns:[]};t.default=i}});"}