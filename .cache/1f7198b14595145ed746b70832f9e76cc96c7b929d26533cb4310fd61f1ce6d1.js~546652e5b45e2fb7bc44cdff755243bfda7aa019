{"source":"webpackJsonp([81],{1444:function(t,a,e){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0});var n=o(e(76)),l=o(e(782));function o(t){return t&&t.__esModule?t:{default:t}}a.default={components:{QuickLotteryListTable:l.default},data:function(){var e=this;return{ShowConfigFormModal:!1,lockStatu:null,ConfigForm:{id:null,level:null,rate:null,lock:null,maxJackpot:null},DataSearch:{lid:\"\"},table:{TableColumn:[{title:\"彩票名称\",key:\"lotteryName\"},{title:\"所属分类\",key:\"type\"},{title:\"下注金额\",key:\"betMoney\"},{title:\"会员输赢\",key:\"win\"},{title:\"下注金额(黑名单)\",key:\"blackBetMoney\",width:110},{title:\"用户输赢(黑名单)\",key:\"blackWin\",width:110},{title:\"风控状态\",key:\"level\",width:60,render:function(t,a){var e=void 0;switch(a.row.level){case\"rand\":e=\"随机\";break;case\"kill\":e=\"控制\";break;default:e=\"放水\"}return t(\"span\",e)}},{title:\"平台盈利\",key:\"rate\",width:60,render:function(t,a){return t(\"span\",100*a.row.rate+\"%\")}},{title:\"开奖间隔\",key:\"openTimeSet\",width:75,render:function(t,a){var e=a.row.openTimeSet,n=Math.floor(e/3600);n=0<n?n+\"小时\":\"\";var l=Math.floor(e%3600/60),o=e%60;return t(\"span\",n+(l=0<l?l+\"分钟\":\"\")+(o=0<o?o+\"秒\":\"\"))}},{title:\"开始统计时间\",key:\"lastCountTime\",width:140,render:function(t,a){return t(\"span\",e.$moment.unix(a.row.lastCountTime-0).format(\"LLL\"))}},{title:\"奖池金额\",key:\"jackpot\"},{title:\"奖池上限金额\",key:\"maxJackpot\"},{title:\"奖池状态\",key:\"jackpotStatus\",width:60,render:function(t,a){return t(\"span\",\"add\"===a.row.jackpotStatus?\"累积\":\"派彩\")}},{title:\"状态\",key:\"lock\",width:50,render:function(t,a){return t(\"span\",0===a.row.lock?\"未锁\":\"加锁\")}},{title:\"操作\",key:\"\",width:170,render:function(t,a){return t(\"div\",[t(\"Button\",{props:{size:\"small\"},style:{marginRight:\"5px\"},on:{click:function(){e.$router.push({name:\"LotteryWinDetail\",query:{lotteryId:a.row.lotteryId}})}}},\"详情\"),t(\"Button\",{props:{size:\"small\"},style:{marginRight:\"5px\"},on:{click:function(){e.$Modal.confirm({content:\"确认初始化？\",onOk:function(){e.$root.HTTP_ALLLINKPOST(e.$root.HTTP_L.HTTP_KuaiSuChuShiHuaPeiZhi,{id:a.row.id}).then(function(t){e.$Modal.success({title:\"提示\",content:\"初始化成功！\"})}).catch(function(t){e.$Message.error(\"初始化失败！\")})}})}}},\"初始化\"),t(\"Button\",{props:{size:\"small\"},on:{click:function(){e.lockStatu=!Boolean(a.row.lock),e.ShowConfigFormModal=!0,e.ConfigForm.id=a.row.id,e.ConfigForm.level=a.row.level,e.ConfigForm.rate=Number(a.row.rate),e.ConfigForm.maxJackpot=Number(a.row.maxJackpot)}}},\"更新\")])}}],TableData:{},loading:!0,align:\"center\",posturl:this.$root.HTTP_L.HTTP_KuaiSuShuJuZongLan,Refresh:0,dataform:{isRules:\"select\"}}}},methods:{SelectControlStatus:function(t){this.ConfigForm.level=t},changeLock:function(t){this.ConfigForm.lock=t?0:1},UpdateTheConfig:function(){var a=this;this.$root.HTTP_ALLLINKPOST(this.$root.HTTP_L.HTTP_KuaiSuGengXinPeiZhi,this.ConfigForm).then(function(t){a.$Modal.success({title:\"提示\",content:\"更新成功！\"}),a.ShowConfigFormModal=!1,a.table.dataform={isRules:\"select\"}}).catch(function(t){a.$Message.error(\"更新失败！\")})},Search:function(){for(var t in this.DataSearch)null!=this.DataSearch[t]&&\"\"!=this.DataSearch[t]||delete this.DataSearch[t];this.table.dataform=JSON.parse((0,n.default)(this.DataSearch))},SearchRest:function(){this.DataSearch={lid:\"\"},this.table.dataform={lid:\"\"}}}}},1784:function(t,a,e){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0});var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e(\"div\",{staticClass:\"content-main member-main\"},[e(\"div\",{staticClass:\"layout\"},[e(\"div\",{staticClass:\"page-header\"},[e(\"h1\",{staticClass:\"binding\"},[a._v(a._s(a.$route.meta.title))])]),a._v(\" \"),e(\"div\",{staticClass:\"page-con1\"},[e(\"div\",{staticClass:\"c_left\"},[e(\"i-col\",{staticClass:\"c_search_result\",attrs:{span:\"24\"}},[e(\"div\",{staticClass:\"serach\"},[e(\"div\",{staticClass:\"have_con\"},[e(\"div\",{staticClass:\"data_sj\"},[e(\"div\",{staticStyle:{margin:\"10px 0\",overflow:\"hidden\"}},[e(\"QuickLotteryListTable\",{attrs:{table:a.table}})],1)])])])])],1)]),a._v(\" \"),e(\"Modal\",{attrs:{\"class-name\":\"vertical-center-modal\",loading:!0,title:\"更新配置\"},on:{\"on-ok\":a.UpdateTheConfig},model:{value:a.ShowConfigFormModal,callback:function(t){a.ShowConfigFormModal=t},expression:\"ShowConfigFormModal\"}},[e(\"Form\",{attrs:{model:a.ConfigForm,\"label-position\":\"left\",\"label-width\":110}},[e(\"FormItem\",{staticClass:\"form-group\",attrs:{label:\"当前风控状态\"}},[e(\"Select\",{staticStyle:{width:\"260px\"},on:{\"on-change\":a.SelectControlStatus},model:{value:a.ConfigForm.level,callback:function(t){a.$set(a.ConfigForm,\"level\",t)},expression:\"ConfigForm.level\"}},[e(\"Option\",{attrs:{value:\"rand\"}},[a._v(\"随机\")]),a._v(\" \"),e(\"Option\",{attrs:{value:\"kill\"}},[a._v(\"控制\")]),a._v(\" \"),e(\"Option\",{attrs:{value:\"open\"}},[a._v(\"放水\")])],1)],1),a._v(\" \"),e(\"FormItem\",{staticClass:\"form-group\",attrs:{label:\"平台盈利率\"}},[e(\"InputNumber\",{staticStyle:{width:\"260px\"},attrs:{step:.01,placeholder:\"请输入平台盈利率\"},model:{value:a.ConfigForm.rate,callback:function(t){a.$set(a.ConfigForm,\"rate\",t)},expression:\"ConfigForm.rate\"}})],1),a._v(\" \"),e(\"FormItem\",{staticClass:\"form-group\",attrs:{label:\"状态变更\"}},[e(\"i-switch\",{attrs:{size:\"large\"},on:{\"on-change\":a.changeLock},model:{value:a.lockStatu,callback:function(t){a.lockStatu=t},expression:\"lockStatu\"}},[e(\"span\",{attrs:{slot:\"open\"},slot:\"open\"},[a._v(\"未锁\")]),a._v(\" \"),e(\"span\",{attrs:{slot:\"close\"},slot:\"close\"},[a._v(\"已锁\")])])],1),a._v(\" \"),e(\"FormItem\",{staticClass:\"form-group\",attrs:{label:\"奖池上限金额\"}},[e(\"InputNumber\",{staticStyle:{width:\"260px\"},attrs:{step:1e3,placeholder:\"请输入奖池上限金额\"},model:{value:a.ConfigForm.maxJackpot,callback:function(t){a.$set(a.ConfigForm,\"maxJackpot\",t)},expression:\"ConfigForm.maxJackpot\"}})],1)],1)],1)],1)])};n._withStripped=!0;var l={render:n,staticRenderFns:[]};a.default=l},756:function(t,a,e){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0});var n=e(1444),l=e.n(n);for(var o in n)\"default\"!==o&&function(t){e.d(a,t,function(){return n[t]})}(o);var i=e(1784),r=e.n(i),s=e(63)(l.a,r.a,!1,null,null,null);s.options.__file=\"src/template/LotteryManager/QuicklyLottery.vue\",a.default=s.exports},769:function(t,a,e){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0});var n=r(e(774)),l=r(e(145)),o=r(e(77)),i=r(e(144));function r(t){return t&&t.__esModule?t:{default:t}}a.default={name:\"TableCommon\",props:[\"table\"],components:{},activated:function(){},data:function(){return{page:1,response:{},dateOption:{}}},watch:{\"table.posturl\":function(t){this.tableRequest()},\"table.Refresh\":function(t){this.tableRequest()},\"table.dataform\":{handler:function(t){0<this.table.posturl.indexOf(\"?\")&&(this.table.posturl=this.table.posturl.slice(0,this.table.posturl.indexOf(\"?\"))),this.table.post||this.tableRequest()},deep:!0},\"table.selectAllcencle\":function(t){this.$refs.table.selectAll(!1)}},created:function(){this.table.flag||this.tableRequest()},methods:{PageChange:function(t){0<this.table.posturl.indexOf(\"?\")&&(this.table.posturl=this.table.posturl.slice(0,this.table.posturl.indexOf(\"?\"))),this.table.posturl=this.table.posturl+\"?page=\"+t},OnSelected:function(t){this.$emit(\"listenOnSelect\",t)},OnSortChange:function(t){this.$emit(\"listenOnSortTable\",t)},expand:function(t,a){this.$emit(\"listenOnExpand\",{row:t,status:a})},tableRequest:function(t){var a=this;this.table.loading=!0,\"get\"!==this.table.postType&&this.table.posturl?this.$root.HTTP_ALLLINKPOST(this.table.posturl,this.table.dataform).then(function(t){\"string\"==typeof t.data.data?a.table.TableData=JSON.parse(t.data.data):(t.data.data.hasOwnProperty(\"data\")?t.data.data.data.hasOwnProperty(\"list\")?(a.table.TableData=(0,i.default)({},t.data.data),a.table.TableData.data=[].concat((0,o.default)(t.data.data.data.list)),a.$set(a.table.TableData,\"totalCount\",t.data.data.data.total)):a.table.TableData=t.data.data:(a.table.TableData.data=t.data.data,(0,l.default)(t.data.data)&&(a.table.TableData.data=(0,n.default)(t.data.data))),0==t.data.data.length&&(a.table.TableData={}),a.page=t.data.data.current_page),a.table.loading=!1,a.table.TableData.data.length?a.table.buttonDisabled=!1:a.table.buttonDisabled=!0,a.$emit(\"listenOnTableData\")}).catch(function(t){a.table.loading=!1,a.$emit(\"listenOnTableData\"),a.table.TableData.data=[],t.body&&200!==t.body.code&&a.$emit(\"catchError\",t.body.code)}):this.table.posturl?this.$root.HTTP_ALLLINKGET(this.table.posturl,this.table.dataform).then(function(t){\"string\"==typeof t.data.data?a.table.TableData=JSON.parse(t.data.data):t.data.data.hasOwnProperty(\"data\")?a.table.TableData=t.data.data:a.table.TableData.data=t.data.data,a.table.loading=!1}).catch(function(t){a.table.loading=!1,a.table.TableData.data=[]}):this.table.loading=!1}}}},774:function(t,a,e){t.exports={default:e(779),__esModule:!0}},778:function(t,a,e){var s=e(64),c=e(54),u=e(78).f;t.exports=function(r){return function(t){for(var a,e=c(t),n=s(e),l=n.length,o=0,i=[];o<l;)u.call(e,a=n[o++])&&i.push(r?[a,e[a]]:e[a]);return i}}},779:function(t,a,e){e(780),t.exports=e(11).Object.values},780:function(t,a,e){var n=e(31),l=e(778)(!1);n(n.S,\"Object\",{values:function(t){return l(t)}})},782:function(t,a,e){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0});var n=e(769),l=e.n(n);for(var o in n)\"default\"!==o&&function(t){e.d(a,t,function(){return n[t]})}(o);var i=e(785),r=e.n(i),s=!1;var c=function(t){s||e(783)},u=e(63)(l.a,r.a,!1,c,null,null);u.options.__file=\"src/template/my-components/iview-table/table.vue\",a.default=u.exports},783:function(t,a,e){var n=e(784);\"string\"==typeof n&&(n=[[t.i,n,\"\"]]),n.locals&&(t.exports=n.locals);e(75)(\"78bbc5d7\",n,!1,{})},784:function(t,a,e){(t.exports=e(74)(!1)).push([t.i,\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\",\"\"])},785:function(t,a,e){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0});var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",[e(\"div\",[e(\"i-col\",{attrs:{span:\"24\"}},[e(\"i-table\",{ref:\"table\",class:{center:\"center\"==t.table.align},attrs:{border:\"\",loading:t.table.loading,context:t.$parent,data:t.table.TableData.data,columns:t.table.TableColumn},on:{\"on-sort-change\":t.OnSortChange,listenRequest:t.tableRequest,\"on-selection-change\":t.OnSelected,\"on-expand\":t.expand}})],1),t._v(\" \"),1<t.table.TableData.last_page?e(\"div\",{staticStyle:{margin:\"10px\"}},[e(\"div\",{staticStyle:{float:\"right\"}},[e(\"Page\",{attrs:{total:t.table.TableData.total,\"show-total\":\"\",current:t.page,\"page-size\":t.table.TableData.per_page-0,\"show-elevator\":\"\"},on:{\"on-change\":t.PageChange}})],1)]):t._e()],1)])};n._withStripped=!0;var l={render:n,staticRenderFns:[]};a.default=l}});"}